@(file: models.files.File, path: String)(implicit req: models.auth.VisitRequest[_])

@scripts = {
	<script src="@routes.Assets.at("ace/ace.js")" type="text/javascript" charset="utf-8"></script>
	<link media="screen" href="/assets/stylesheets/prettify.css" type="text/css" rel="stylesheet" />
	<link media="screen" href="/assets/stylesheets/file.css" type="text/css" rel="stylesheet"/>
	<script src="@routes.Assets.at("javascripts/prettify.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/lang-scala.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/file-handle-form.js")" type="text/javascript" charset="utf-8"></script>
}

@main("File Editor - " + file.title, scripts) {
	<div class="row">
	@file.topOfFile(path, file.owner)
	</div>
	<h2>@file.title</h2>
	<h3 id="title1">Content</h3>
	<h3 id="title2">Tests</h3>
	<form id="file"> 
		<div id="editor">
		</div>
	</form>
	@if(file.isAssignment(path)) {
	  <button id="runTests" type="button">Run Tests</button>
	} else {
	  <div class="hidden">
	  <button id="runTests" type="button">Run Tests</button>
	  </div>
	}
	<form id="test-form" action="./test">
		<div id="test">
		</div>
	</form>
	<button id="compileButton" type="button">Compile and Save</button>
	<button id="enterInteractions" type="button">Enter Interactions</button>
	<button id="saveTestButton" type="button">Save Test Code</button>
	<button id="toggleTestButton" type="button">Switch Editor</button>
	<div id="compiler-message">
	</div>
	<div id="info" class="hidden" path="@path" fileContent="@file.content" fileTests="@file.tests"></div>
}